<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Python/R for Data Science - 1&nbsp; Preliminaries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../contents/2/02-.html" rel="next">
<link href="../../index.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Python/R for Data Science</span>
  </a>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preliminaries</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Part I: Python</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/1/01-.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preliminaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/2/02-.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Python Basics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#why-python" id="toc-why-python" class="nav-link active" data-scroll-target="#why-python"> <span class="header-section-number">1.1</span> Why Python?</a></li>
  <li><a href="#hello-world" id="toc-hello-world" class="nav-link" data-scroll-target="#hello-world"> <span class="header-section-number">1.2</span> Hello world!</a></li>
  <li><a href="#projects" id="toc-projects" class="nav-link" data-scroll-target="#projects"> <span class="header-section-number">1.3</span> Projects</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preliminaries</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="why-python" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="why-python"><span class="header-section-number">1.1</span> Why Python?</h2>
<section id="python-is-easy-to-learn-and-use" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="python-is-easy-to-learn-and-use"><span class="header-section-number">1.1.1</span> Python is easy to learn and use</h3>
<!-- Programmers familiar with traditional languages will find it easy to learn Python. All of the familiar constructs—loops, conditional statements, arrays, and so forth—are included, but many are easier to use in Python. Here are a few of the reasons why:

- Types are associated with objects, not variables. A variable can be assigned a value of any type, and a list can contain objects of many types. This also means that type casting usually isn’t necessary and that your code isn’t locked into the straitjacket of predeclared types.

- Python typically operates at a much higher level of abstraction. This is partly the result of the way the language is built and partly the result of an extensive standard code library that comes with the Python distribution. A program to download a web page can be written in two or three lines!

- Syntax rules are very simple. Although becoming an expert Pythonista takes time
and effort, even beginners can absorb enough Python syntax to write useful
code quickly.

Python is well suited for rapid application development. It isn’t unusual for coding an application in Python to take one-fifth the time it would in C or Java and to take as little as one-fifth the number of lines of the equivalent C program. This depends on the particular application, of course; for a numerical algorithm performing mostly integer arithmetic in for loops, there would be much less of a productivity gain. For the average application, the productivity gain can be significant.  -->
</section>
<section id="python-is-easy-to-read" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="python-is-easy-to-read"><span class="header-section-number">1.1.2</span> Python is easy to read</h3>
</section>
<section id="python-community-is-mature-and-supportive" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="python-community-is-mature-and-supportive"><span class="header-section-number">1.1.3</span> Python Community is mature and supportive</h3>
</section>
</section>
<section id="hello-world" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="hello-world"><span class="header-section-number">1.2</span> Hello world!</h2>
<p>We will mainly focus on this code editor mode at the beginning and check our results or do some simple computations in the console.</p>
<p>Notebook is another very popular mode to use Python. We will talk about it later.</p>
<section id="set-up-python-environment-using-ides" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="set-up-python-environment-using-ides"><span class="header-section-number">1.2.1</span> Set up Python environment using IDEs</h3>
<p>Please follow the following steps to run your first line of Python codes.</p>
<p>We will talk about the relation between Python and Anaconda and more about packages sometime later.</p>
<ol type="1">
<li><p>Go to <a href="https://www.anaconda.com/">Anaconda download page</a>. Download and install Anaconda.</p></li>
<li><p>There are several IDEs for Python bundled with Anaconda. Pick any one you like. I personally use VS Code. Here we use Spyder as an example for now since it doesn’t require any configurations.</p></li>
<li><p>Here is a screenshot of Spyder 5.1.5. <img src="assests/img/20220801150626.png" class="img-fluid"></p></li>
<li><p>The right lower window is the console. Type the following code, and run. If <code>Hello world!</code> is displayed, the Python environment is set up successfully. Now you can start to play with Python!</p></li>
</ol>
</section>
<section id="code-editor" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="code-editor"><span class="header-section-number">1.2.2</span> Code editor</h3>
<p>The left window is called <em>Code Editor</em>. You can write multiple lines of codes in the code editor and run them all together. The output results might appear in the console.</p>
<p>As shown in the screenshot, when press <code>F5</code> to run file, the codes in the code editor will be excuted line by line.</p>
<p>The code in the example is</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Hello world!'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Another line'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Everything after # are comments that won't be excuted.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello world!
Another line</code></pre>
</div>
</div>
</section>
<section id="ipython-and-jupyter" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="ipython-and-jupyter"><span class="header-section-number">1.2.3</span> IPython and Jupyter</h3>
<!-- The IPython project began in 2001 as Fernando Pérez’s side project to make a better
interactive Python interpreter. In the subsequent 16 years it has become one of the
most important tools in the modern Python data stack. While it does not provide any
computational or data analytical tools by itself, IPython is designed from the ground
up to maximize your productivity in both interactive computing and software devel‐
opment. It encourages an execute-explore workflow instead of the typical edit-compile-
run workflow of many other programming languages. It also provides easy access to
your operating system’s shell and filesystem. Since much of data analysis coding
involves exploration, trial and error, and iteration, IPython can help you get the job
done faster.
In 2014, Fernando and the IPython team announced the Jupyter project, a broader
initiative to design language-agnostic interactive computing tools. The IPython web
notebook became the Jupyter notebook, with support now for over 40 programming
languages. The IPython system can now be used as a kernel (a programming language
mode) for using Python with Jupyter.
IPython itself has become a component of the much broader Jupyter open source
project, which provides a productive environment for interactive and exploratory
computing. Its oldest and simplest “mode” is as an enhanced Python shell designed to
accelerate the writing, testing, and debugging of Python code. You can also use the
IPython system through the Jupyter Notebook, an interactive web-based code “note‐
book” offering support for dozens of programming languages. The IPython shell and
Jupyter notebooks are especially useful for data exploration and visualization.
The Jupyter notebook system also allows you to author content in Markdown and
HTML, providing you a means to create rich documents with code and text. Other
programming languages have also implemented kernels for Jupyter to enable you to
use languages other than Python in Jupyter.
For me personally, IPython is usually involved with the majority of my Python work,
including running, debugging, and testing code.
In the accompanying book materials, you will find Jupyter notebooks containing all
the code examples from each chapter. -->
</section>
<section id="linters" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="linters"><span class="header-section-number">1.2.4</span> Linters</h3>
<!-- 
### Linters
A *linter* is a tool to help you improve your code by analyzing your source code looking for problems. Some popular choices for Python includes `Flake8` and `Pylint`. It is highly recommended to use one that is compatible with your IDE which can help you to increase the quality of your codes from the begining. -->
<!-- 
## Exercises
Most problems are based on @Sha2017, @You2020 and @Swe2020.
 -->
</section>
</section>
<section id="projects" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="projects"><span class="header-section-number">1.3</span> Projects</h2>
<div id="exr-" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.1 (Hello world!) </strong></span></p>
<p>Please set up a Python developing environment, including for <code>.py</code> file and for notebook, that will be used across the semester. Then print <code>Hello World!</code>.</p>
</div>
<div id="exr-" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.2 (Define a function and play with <code>time</code>) </strong></span>Please play with the following codes in a Jupyter notebook. We haven’t talked about any of them right now. Try to guess what they do and write your guess in markdown cells.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> multistr(x, n<span class="op">=</span><span class="dv">2</span>):</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">*</span> n</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>t0 <span class="op">=</span> time.time()</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="st">'Python'</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(multistr(x, n<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>t1 <span class="op">=</span> time.time()</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Time used: "</span>, t1<span class="op">-</span>t0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="exr-" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.3 (Fancy Basketball plot) </strong></span>Here is an example of the data analysis. We pull data from a dataset, filter the data according to our needs and plot it to visualize the data. This is just a show case. You are encouraged to play the code, make tweaks and see what would happen. You don’t have to turn in anything.</p>
<p>The data we choose is Stephen Curry’s shots data in 2021-2022 regular season. First we need to load the data. The data is obtained from <code>nba.com</code> using <code>nba_api</code>.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nba_api.stats.static <span class="im">import</span> players</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nba_api.stats.endpoints <span class="im">import</span> shotchartdetail</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>player_dict <span class="op">=</span> players.get_players()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The shots data we need is in <code>shotchartdetail</code>. However to use it we need to know the id of <code>Stephen Curry</code> using the dataset <code>player_dict</code>.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> player <span class="kw">in</span> player_dict:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> player[<span class="st">'full_name'</span>] <span class="op">==</span> <span class="st">'Stephen Curry'</span>:</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(player[<span class="st">'id'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>201939</code></pre>
</div>
</div>
<p>So the id of <code>Stephen Curry</code> is <code>201939</code>. Let’s pull out his shots data in 2021-2022 season.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> shotchartdetail.ShotChartDetail(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>            team_id <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>            player_id <span class="op">=</span> <span class="dv">201939</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>            context_measure_simple <span class="op">=</span> <span class="st">'FGA'</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>            season_nullable <span class="op">=</span> <span class="st">'2021-22'</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>            season_type_all_star <span class="op">=</span> <span class="st">'Regular Season'</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> results.get_data_frames()[<span class="dv">0</span>]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>GRID_TYPE</th>
      <th>GAME_ID</th>
      <th>GAME_EVENT_ID</th>
      <th>PLAYER_ID</th>
      <th>PLAYER_NAME</th>
      <th>TEAM_ID</th>
      <th>TEAM_NAME</th>
      <th>PERIOD</th>
      <th>MINUTES_REMAINING</th>
      <th>SECONDS_REMAINING</th>
      <th>...</th>
      <th>SHOT_ZONE_AREA</th>
      <th>SHOT_ZONE_RANGE</th>
      <th>SHOT_DISTANCE</th>
      <th>LOC_X</th>
      <th>LOC_Y</th>
      <th>SHOT_ATTEMPTED_FLAG</th>
      <th>SHOT_MADE_FLAG</th>
      <th>GAME_DATE</th>
      <th>HTM</th>
      <th>VTM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>26</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>10</td>
      <td>9</td>
      <td>...</td>
      <td>Left Side Center(LC)</td>
      <td>24+ ft.</td>
      <td>28</td>
      <td>-109</td>
      <td>260</td>
      <td>1</td>
      <td>0</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>34</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>9</td>
      <td>41</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>24+ ft.</td>
      <td>26</td>
      <td>48</td>
      <td>257</td>
      <td>1</td>
      <td>0</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>37</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>9</td>
      <td>10</td>
      <td>...</td>
      <td>Left Side Center(LC)</td>
      <td>24+ ft.</td>
      <td>25</td>
      <td>-165</td>
      <td>189</td>
      <td>1</td>
      <td>1</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>75</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>6</td>
      <td>17</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>Less Than 8 ft.</td>
      <td>1</td>
      <td>-13</td>
      <td>12</td>
      <td>1</td>
      <td>0</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>130</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>3</td>
      <td>11</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>Less Than 8 ft.</td>
      <td>2</td>
      <td>-15</td>
      <td>22</td>
      <td>1</td>
      <td>0</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 24 columns</p>
</div>
</div>
</div>
<p><code>df</code> is the results we get in terms of a <code>DataFrame</code>, and we show the first <code>5</code> records as an example.</p>
<p>These are all attempts. We are interested in all made. By looking at all the columns, we find a column called <code>SHOT_MADE_FLAG</code> which shows what we want. Therefore we will use it to filter the records.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_made <span class="op">=</span> df[df[<span class="st">'SHOT_MADE_FLAG'</span>]<span class="op">==</span><span class="dv">1</span>]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df_made.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>GRID_TYPE</th>
      <th>GAME_ID</th>
      <th>GAME_EVENT_ID</th>
      <th>PLAYER_ID</th>
      <th>PLAYER_NAME</th>
      <th>TEAM_ID</th>
      <th>TEAM_NAME</th>
      <th>PERIOD</th>
      <th>MINUTES_REMAINING</th>
      <th>SECONDS_REMAINING</th>
      <th>...</th>
      <th>SHOT_ZONE_AREA</th>
      <th>SHOT_ZONE_RANGE</th>
      <th>SHOT_DISTANCE</th>
      <th>LOC_X</th>
      <th>LOC_Y</th>
      <th>SHOT_ATTEMPTED_FLAG</th>
      <th>SHOT_MADE_FLAG</th>
      <th>GAME_DATE</th>
      <th>HTM</th>
      <th>VTM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>37</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>9</td>
      <td>10</td>
      <td>...</td>
      <td>Left Side Center(LC)</td>
      <td>24+ ft.</td>
      <td>25</td>
      <td>-165</td>
      <td>189</td>
      <td>1</td>
      <td>1</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>176</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>1</td>
      <td>0</td>
      <td>27</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>Less Than 8 ft.</td>
      <td>2</td>
      <td>-7</td>
      <td>29</td>
      <td>1</td>
      <td>1</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>352</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>2</td>
      <td>1</td>
      <td>29</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>Less Than 8 ft.</td>
      <td>1</td>
      <td>-1</td>
      <td>10</td>
      <td>1</td>
      <td>1</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>510</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>3</td>
      <td>2</td>
      <td>23</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>Less Than 8 ft.</td>
      <td>1</td>
      <td>7</td>
      <td>8</td>
      <td>1</td>
      <td>1</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Shot Chart Detail</td>
      <td>0022100002</td>
      <td>642</td>
      <td>201939</td>
      <td>Stephen Curry</td>
      <td>1610612744</td>
      <td>Golden State Warriors</td>
      <td>4</td>
      <td>5</td>
      <td>34</td>
      <td>...</td>
      <td>Center(C)</td>
      <td>24+ ft.</td>
      <td>26</td>
      <td>48</td>
      <td>260</td>
      <td>1</td>
      <td>1</td>
      <td>20211019</td>
      <td>LAL</td>
      <td>GSW</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 24 columns</p>
</div>
</div>
</div>
<p>We also notice that there are two columns <code>LOC_X</code> and <code>LOC_Y</code> shows the coordinates of the attempts. We will use it to draw the heatmap. The full code for drawing out the court <code>draw_court</code> is folded below. It is from <a href="https://github.com/bradleyfay/py-Goldsberry/blob/master/docs/Visualizing%20NBA%20Shots%20with%20py-Goldsberry.ipynb">Bradley Fay GitHub</a>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that, although <code>draw_cort</code> is long, it is not hard to understand. It just draws a court piece by piece.</p>
</div>
</div>
<div class="cell" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.patches <span class="im">import</span> Circle, Rectangle, Arc</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> draw_court(ax<span class="op">=</span><span class="va">None</span>, color<span class="op">=</span><span class="st">'gray'</span>, lw<span class="op">=</span><span class="dv">1</span>, outer_lines<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns an axes with a basketball court drawn onto to it.</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">    This function draws a court based on the x and y-axis values that the NBA</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">    stats API provides for the shot chart data.  For example, the NBA stat API</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">    represents the center of the hoop at the (0,0) coordinate.  Twenty-two feet</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">    from the left of the center of the hoop in is represented by the (-220,0)</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">    coordinates.  So one foot equals +/-10 units on the x and y-axis.</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> ax <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        ax <span class="op">=</span> plt.gca()</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the various parts of an NBA basketball court</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the basketball hoop</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    hoop <span class="op">=</span> Circle((<span class="dv">0</span>, <span class="dv">0</span>), radius<span class="op">=</span><span class="fl">7.5</span>, linewidth<span class="op">=</span>lw, color<span class="op">=</span>color, fill<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create backboard</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    backboard <span class="op">=</span> Rectangle((<span class="op">-</span><span class="dv">30</span>, <span class="op">-</span><span class="fl">7.5</span>), <span class="dv">60</span>, <span class="op">-</span><span class="dv">1</span>, linewidth<span class="op">=</span>lw, color<span class="op">=</span>color)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The paint</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the outer box 0f the paint, width=16ft, height=19ft</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    outer_box <span class="op">=</span> Rectangle((<span class="op">-</span><span class="dv">80</span>, <span class="op">-</span><span class="fl">47.5</span>), <span class="dv">160</span>, <span class="dv">190</span>, linewidth<span class="op">=</span>lw, color<span class="op">=</span>color,</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>                          fill<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the inner box of the paint, widt=12ft, height=19ft</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    inner_box <span class="op">=</span> Rectangle((<span class="op">-</span><span class="dv">60</span>, <span class="op">-</span><span class="fl">47.5</span>), <span class="dv">120</span>, <span class="dv">190</span>, linewidth<span class="op">=</span>lw, color<span class="op">=</span>color,</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>                          fill<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create free throw top arc</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>    top_free_throw <span class="op">=</span> Arc((<span class="dv">0</span>, <span class="fl">142.5</span>), <span class="dv">120</span>, <span class="dv">120</span>, theta1<span class="op">=</span><span class="dv">0</span>, theta2<span class="op">=</span><span class="dv">180</span>,</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>                         linewidth<span class="op">=</span>lw, color<span class="op">=</span>color, fill<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create free throw bottom arc</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    bottom_free_throw <span class="op">=</span> Arc((<span class="dv">0</span>, <span class="fl">142.5</span>), <span class="dv">120</span>, <span class="dv">120</span>, theta1<span class="op">=</span><span class="dv">180</span>, theta2<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>                            linewidth<span class="op">=</span>lw, color<span class="op">=</span>color, linestyle<span class="op">=</span><span class="st">'dashed'</span>)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Restricted Zone, it is an arc with 4ft radius from center of the hoop</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>    restricted <span class="op">=</span> Arc((<span class="dv">0</span>, <span class="dv">0</span>), <span class="dv">80</span>, <span class="dv">80</span>, theta1<span class="op">=</span><span class="dv">0</span>, theta2<span class="op">=</span><span class="dv">180</span>, linewidth<span class="op">=</span>lw,</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>                     color<span class="op">=</span>color)</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Three point line</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the right side 3pt lines, it's 14ft long before it arcs</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>    corner_three_a <span class="op">=</span> Rectangle((<span class="op">-</span><span class="dv">220</span>, <span class="op">-</span><span class="fl">47.5</span>), <span class="dv">0</span>, <span class="dv">140</span>, linewidth<span class="op">=</span>lw,</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>                               color<span class="op">=</span>color)</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the right side 3pt lines, it's 14ft long before it arcs</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    corner_three_b <span class="op">=</span> Rectangle((<span class="dv">220</span>, <span class="op">-</span><span class="fl">47.5</span>), <span class="dv">0</span>, <span class="dv">140</span>, linewidth<span class="op">=</span>lw, color<span class="op">=</span>color)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3pt arc - center of arc will be the hoop, arc is 23'9" away from hoop</span></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>    three_arc <span class="op">=</span> Arc((<span class="dv">0</span>, <span class="dv">0</span>), <span class="dv">475</span>, <span class="dv">475</span>, theta1<span class="op">=</span><span class="dv">22</span>, theta2<span class="op">=</span><span class="dv">158</span>, linewidth<span class="op">=</span>lw,</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>                    color<span class="op">=</span>color)</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Center Court</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    center_outer_arc <span class="op">=</span> Arc((<span class="dv">0</span>, <span class="fl">422.5</span>), <span class="dv">120</span>, <span class="dv">120</span>, theta1<span class="op">=</span><span class="dv">180</span>, theta2<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>                           linewidth<span class="op">=</span>lw, color<span class="op">=</span>color)</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>    center_inner_arc <span class="op">=</span> Arc((<span class="dv">0</span>, <span class="fl">422.5</span>), <span class="dv">40</span>, <span class="dv">40</span>, theta1<span class="op">=</span><span class="dv">180</span>, theta2<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>                           linewidth<span class="op">=</span>lw, color<span class="op">=</span>color)</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>    <span class="co"># List of the court elements to be plotted onto the axes</span></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>    court_elements <span class="op">=</span> [hoop, backboard, outer_box, inner_box, top_free_throw,</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>                      bottom_free_throw, restricted, corner_three_a,</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>                      corner_three_b, three_arc, center_outer_arc,</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>                      center_inner_arc]</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> outer_lines:</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Draw the half court line, baseline and side out bound lines</span></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>        outer_lines <span class="op">=</span> Rectangle((<span class="op">-</span><span class="dv">250</span>, <span class="op">-</span><span class="fl">47.5</span>), <span class="dv">500</span>, <span class="dv">470</span>, linewidth<span class="op">=</span>lw,</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>                                color<span class="op">=</span>color, fill<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>        court_elements.append(outer_lines)</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add the court elements onto the axes</span></span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> element <span class="kw">in</span> court_elements:</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>        ax.add_patch(element)</span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ax</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create figure and axes</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">6</span>))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.add_axes([<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot hexbin of shots</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>ax.hexbin(df[<span class="st">'LOC_X'</span>], df[<span class="st">'LOC_Y'</span>], gridsize<span class="op">=</span>(<span class="dv">30</span>, <span class="dv">30</span>), extent<span class="op">=</span>(<span class="op">-</span><span class="dv">300</span>, <span class="dv">300</span>, <span class="dv">0</span>, <span class="dv">940</span>), bins<span class="op">=</span><span class="st">'log'</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> draw_court(ax, <span class="st">'black'</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Annotate player name and season</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>ax.text(<span class="dv">0</span>, <span class="fl">1.05</span>, <span class="st">'Stephen Curry</span><span class="ch">\n</span><span class="st">2021-22 Regular Season'</span>, transform<span class="op">=</span>ax.transAxes, ha<span class="op">=</span><span class="st">'left'</span>, va<span class="op">=</span><span class="st">'baseline'</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Set axis limits</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>_ <span class="op">=</span> ax.set_xlim(<span class="op">-</span><span class="dv">250</span>, <span class="dv">250</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>_ <span class="op">=</span> ax.set_ylim(<span class="dv">0</span>, <span class="dv">400</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="01-_files/figure-html/cell-9-output-1.png" width="630" height="671"></p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../contents/2/02-.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Python Basics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>